<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
	crossorigin="anonymous"></script>
<title>Insert title here</title>
</head>

<body>
	<div class="row justify-content-between me-5 ms-3 mt-4">

		<div class="container col-md-1 align-middle mt-4 pt-5">
			<a class="bi bi-person-plus btn btn-outline-primary btn-lg"
				href="/funcionario/formularioFuncionario"> Novo cadastro</a>
		</div>

		<div class="container col-md-11">

			<nav
				class="navbar navbar-expand bg-body-tertiary d-flex justify-content-between mb-2">
				<div class="container-fluid">
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0">
							<li class="nav-item"><a class="nav-link active h1"
								href="/funcionario/homeFuncionario">Funcionario</a></li>
							<li class="nav-item"><a class="nav-link"
								href="/cargo/homeCargo">Cargo</a></li>
							<li class="nav-item"><a class="nav-link"
								href="/setor/homeSetor">Setor</a></li>
						</ul>
						<form class="d-flex" action="buscaFuncionario" method="post">
							<input  name="nomeDoFuncionario" class="form-control me-2"
								placeholder="Buscar por nome" >
							<button class="btn btn-outline-success" type="submit">Buscar</button>
						</form>
					</div>
				</div>
			</nav>
			<form action=""></form>
			<table class="table table-bordered mt-2 ">
				<thead class="table-dark">

					<tr>

						<th scope="col">id</th>
						<th scope="col">Nome</th>
						<th scope="col">CPF</th>
						<th scope="col">Salario</th>
						<th scope="col">Data de contratação</th>
						<th scope="col">Cargo</th>
						<th scope="col">Setor</th>
						<th scope="col">Ativo</th>
						<th scope="col">Ações</th>
					</tr>
				</thead>
				<tbody>


					<tr class="align-middle" th:each="funcionario : ${funcionarios}">
						<td scope="row" th:text="${funcionario.id}"></td>
						<td scope="col" th:text="${funcionario.nomeDoFuncionario}"></td>
						<td scope="col" th:text=" ${funcionario.cpf}"></td>
						<td scope="col" th:text="'R$: '+${funcionario.salario}"></td>
						<td scope="col" th:text="${#temporals.format(funcionario.data, 'dd-MM-yyyy')}"></td>
						<td scope="col" th:text="${funcionario.cargo.nomeDoCargo}"></td>
						<td scope="col" th:text="${funcionario.setor.nomeDoSetor}"></td>
						<td scope="col" th:text="${funcionario.ativo}"></td>
						<td scope="col">
						 
						  <a
							class="bi bi-pencil-square btn btn-outline-primary btn-sm"
							th:href="@{'/funcionario/formularioAtualizarFuncionario/' + ${funcionario.id}}">
							 Atualizar</a> 
								
						  <a class="btn btn-outline-success btn-sm bi bi-eye"
							th:href="@{'/funcionario/vizualizarFuncionario/' + ${funcionario.id}}"
							> Visualizar</a>
							
						  <a class="bi bi-trash btn btn-outline-danger btn-sm"
							data-bs-toggle="modal" data-bs-target="#deletModal"> Deletar</a>



							<!-- Modal -->
							<div class="modal fade" id="deletModal" tabindex="-1"
								aria-labelledby="exampleModalLabel" aria-hidden="true">
								<div class="modal-dialog modal-dialog-centered">
									<div class="modal-content">
										<div class="modal-header">
											<h1 class="modal-title fs-5">Deletar funcionario?</h1>
											<button type="button" class="btn-close"
												data-bs-dismiss="modal" aria-label="Close"></button>
										</div>
										<div class="modal-body">Você tem certeza que deseja
											deletar esse funcionario?</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-outline-secondary"
												data-bs-dismiss="modal">Cancelar</button>
											<a
												th:href="@{'/funcionario/deletarFuncionario/' + ${funcionario.id}}"
												 type="button" class="btn btn-outline-danger">Deletar</a>
										</div>
									</div>
								</div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>